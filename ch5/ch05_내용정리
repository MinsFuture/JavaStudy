ch05 - 참조 타입

5.1 데이터 타입 분류
자바의 데이터 타입은 크게 기본 타입(primitive type)과 참조 타입(reference type)으로 분류된다.
기본 타입에는 정수 타입, 실수 타입, 논리 타입 등이 있으며,
참조 타입에는 배열, 열거, 클래스, 인터페이스 타입 등이 있다.
두 타입의 변수는 모두 스택이라는 메모리 영역에 저장되고, 객체는 힙 영역에 저장된다.
기본 타입으로 선언된 변수는 값 자체를 저장하고 있지만, 참조 타입으로 선언된 변수는 힙 메모리 영역의 객체 메모리 번지를 저장한다.

5.2 메모리 사용 영역
메모리 영역은 크게 메소드 영역, 힙 영역, 스택 영역으로 나뉘는데,
메소드 영역은 바이트코드 파일의 내용이 저장되는 영역이고, 힙 영역은 객체가 생성되는 영역이다.
객체의 번지는 메소드 영역과 스택 영역의 상수와 변수에서 참조할 수 있다.
스택 영역은 변수가 저장되고, 메소드를 호출할 때 마다 생성되는 프레임이 저장되는 영역이다.
메소드 호출이 끝나면 프레임은 자동 제거된다.

5.3 참조 타입 변수의 ==, != 연산
참조 타입 변수의 ==, != 연산자는 번지를 비교하는 것이다.
즉 힙 영역의 같은 객체를 참조하고 있는지를 비교한다.
객체의 내용이 같아도 다른 객체로 생성되었다면, 비교 연산시 FALSE가 나옴을 인지하자.

5.4 null과 NullPointerException
null은 참조 타입 변수가 아직 아무 번지도 저장하고 있지 않다는 뜻이다.
null은 초기화 값으로 사용할 수 있기 때문에, null로 초기화 된 참조 변수도 스택 영역에 자연스럽게 생성된다.
NullPointerException은 참조 변수가 null로 초기화 된 상태에서 객체의 데이터나 메소드를 사용하려 할 때 예외가 발생한다.
힙 영역에 생성된 객체를 어떠한 변수도 참조하지않으면, 이 객체의 위치 정보를 모르기 때문에 해당 객체는 프로그램에서 사용할 수 없다.
그러면 자바에서는 Galbage Collector를 이용해서 이러한 객체를 쓰레기 객체로 취급하고, 자동으로 제거한다.

5.5 문자열 타입
자바는 문자열 리터럴이 같다면 같은 객체를 공유하도록 설계되어있다.
이때 new 연산자로 새로운 객체를 생성한다면, 문자열 리터럴이 같아도 다른 객체가 생성된다.
String 객체의 equals() 메소드는 객체의 비교가 아니라, 문자열 리터럴의 비교를 뜻함을 인지하자.
문자열에서 여러가지 데이터를 얻을 수 있는데, 대표적으로 문자 추출, 문자열 길이, 문자열 대체, 문자열 잘라내기, 문자열 찾기, 문자열 분리 등이 있다.
각각은 String에서 제공하는 메소드를 사용해서 데이터를 얻을 수 있다.

5.6 배열 타입
배열은 연속된 메모리 공간에 값을 나열시키고, 각 값에 인덱스를 부여해 놓은 자료구조이다.
배열도 객체이므로 힙 영역에 생성되고, 배열 변수는 힙 영억의 배열 주소를 저장한다.
배열의 길이란 배열에 저장할 수 있는 항목 수를 말하고 배열변수.length로 접근할 수 있다.

5.7 다차원 배열
다차원 배열을 생성하려면 배열 변수 선언시에 타입 뒤에 대괄호[]로 원하는 차원의 수만큼 붙여주면 된다.
일차원 배열의 인덱스가 또 다른 일차원 배열을 참조하는 형태로 되어있다

5.8 객체를 참조하는 배열
기본 타입은 배열에 값 자체를 저장하지만, 참조 타입은 배열에 객체의 번지를 저장한다.
예를 들어, String 타입의 배열을 생성하면 각각의 인덱스는 여러 문자열 리터럴을 가지고 있는 객체를 참조하게 된다.

5.9 배열 복사
배열은 한 번 생성하면 길이를 늘리거나 줄일 수 없다.
대신 더 많은 저장 공간이 필요하다면 배열 복사라는 방법으로 해결할 수 있다.
만약 기본 타입의 배열이라면 값 자체를 복사하고, 참조 타입의 배열이라면 객체의 번지를 복사하므로
복사한 배열도 기존의 배열이 참조하는 객체를 동일하게 참조하게 된다.

5.10 향상된 for 문
for(타입 변수 : 배열){
  실행문
}
다음과 같은 형태로, 카운터 변수없이 루프를 실행하고 가져올 값이 없으면 종료한다.

5.11 main() 메소드의 String[] 매개변수 용도
자바 프로그램에서는 입력값을 String으로 취급하여 실행한다.
이러한 값들은 main() 메소드 실행 시 매개값으로 전달된다.

5.12 열거(Enum) 타입
열거 타입도 참조 타입의 한 종류로, 몇 가지 한정된 값을 같는 경우에 사용된다.
예를 들어 월화수목금토일의 날짜라던지, 봄,여름,가을,겨울의 사계절 등을 enum 타입으로 데이터를 사용할 수 있다.
Enum 타입은 참조 타입이기 때문에, 각각의 데이터들은 정수인 상수로 저장되지 않고 열거 상수라는 타입으로 저장됨을 인지하자.
관례적으로 영어 대문자로 쓰지만 String 타입은 아니다!
